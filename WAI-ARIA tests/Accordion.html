<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Accordion</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <main>
    <h1 id="page-title">Accordion with ARIA</h1>
    <div class="accordion" id="accordionExampleOne">
      <div class="accordion-item">


        <button 
          class="accordion-button" 
          type="button"
          id="headingOne"
          aria-controls="collapseOne"
          aria-expanded="false">
          Accordion Item #1
        </button>

        <div 
          class="accordion-collapse collapse" 
          id="collapseOne"
          aria-labelledby="headingOne">
          <p tabindex="0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent
            consequat, justo in dapibus cursus.</p>
        </div>



      </div>
    </div>

    <h1 id="page-title">Accordion without ARIA</h1>
    <div class="accordion" id="accordionExampleTwo">
      <div class="accordion-item">


        <button
          class="accordion-button" 
          type="button"
          id="headingTwo">
          Accordion Item #2
        </button>

        <div 
          class="accordion-collapse collapse" 
          id="collapseTwo">
          <p tabindex="0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent
            consequat, justo in dapibus cursus.</p>
        </div>


      </div>
    </div>
  </main> 

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script for the first accordion (with ARIA) -->
  <script>
    document.getElementById('headingOne').addEventListener('click', function() {
      var collapseElement = document.getElementById('collapseOne');
      var isExpanded = collapseElement.classList.contains('show');

      // Toggle the collapse state using Bootstrap's collapse functionality
      var bsCollapse = new bootstrap.Collapse(collapseElement, {
        toggle: true
      });

      // Update aria-expanded for the first accordion (with ARIA)
      this.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
      this.focus();
    });
  </script>

  <!-- Script for the second accordion (without ARIA) -->
  <script>
    document.getElementById('headingTwo').addEventListener('click', function() {
    var collapseElement = document.getElementById('collapseTwo');
    var bsCollapse = new bootstrap.Collapse(collapseElement, {
        toggle: true
    });

    // Focus the button again to trigger VoiceOver to announce the button
    this.focus();
});

  </script>

</body>
</html>
